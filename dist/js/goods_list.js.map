{"version":3,"sources":["goods_list.js"],"names":["$","getUrl","name","reg","RegExp","r","window","location","search","substr","match","decodeURI","QueryObj","query","cid","pagenum","pagesize","TotalPage","init","goodsSearch","eventList","on","href","get","result","meta","status","console","log","html","template","arr","data","goods"],"mappings":";;AAAAA,CAAC,CAAC,YAAY;AACb;AACA,WAASC,MAAT,CAAgBC,IAAhB,EAAsB;AACrB,QAAIC,GAAG,GAAG,IAAIC,MAAJ,CAAW,UAAUF,IAAV,GAAiB,eAA5B,EAA6C,GAA7C,CAAV;AACA,QAAIG,CAAC,GAAGC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,MAAvB,CAA8B,CAA9B,EAAiCC,KAAjC,CAAuCP,GAAvC,CAAR;AACA,QAAIE,CAAC,IAAI,IAAT,EAAe,OAAOM,SAAS,CAACN,CAAC,CAAC,CAAD,CAAF,CAAhB;AACf,WAAO,IAAP;AACA,GAPY,CAUb;;;AACA,MAAIO,QAAQ,GAAG;AACd;AACAC,IAAAA,KAAK,EAAE,EAFO;AAGd;AACA;AACAC,IAAAA,GAAG,EAAEb,MAAM,CAAC,KAAD,CALG;AAMd;AACAc,IAAAA,OAAO,EAAE,CAPK;AAQd;AACAC,IAAAA,QAAQ,EAAE,EATI,CAYf;;AAZe,GAAf;AAaA,MAAIC,SAAS,GAAG,CAAhB;AAEAC,EAAAA,IAAI;;AAEJ,WAASA,IAAT,GAAgB;AACf;AACAC,IAAAA,WAAW;AAEX;;AAED,WAASC,SAAT,GAAqB;AACpBpB,IAAAA,CAAC,CAAC,OAAD,CAAD,CAAWqB,EAAX,CAAc,KAAd,EAAqB,GAArB,EAA0B,YAAY;AACrC,UAAIC,IAAI,GAAG,KAAKA,IAAhB;AACAf,MAAAA,QAAQ,CAACe,IAAT,GAAgBA,IAAhB;AACA,KAHD;AAIA,GAvCY,CA0Cb;;;AACA,WAASH,WAAT,GAAuB;AACtB;AACAnB,IAAAA,CAAC,CAACuB,GAAF,CAAM,oDAAN,EAA4DX,QAA5D,EAAsE,UAAUY,MAAV,EAAkB;AACvF,UAAIA,MAAM,CAACC,IAAP,CAAYC,MAAZ,IAAsB,GAA1B,EAA+B;AAC9BC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACA,YAAIK,IAAI,GAAGC,QAAQ,CAAC,SAAD,EAAY;AAC9BC,UAAAA,GAAG,EAAEP,MAAM,CAACQ,IAAP,CAAYC;AADa,SAAZ,CAAnB,CAF8B,CAK9B;;AACAjC,QAAAA,CAAC,CAAC,aAAD,CAAD,CAAiB6B,IAAjB,CAAsBA,IAAtB;AAEA;AAED,KAXD;AAgBA;AAoBD,CAjFA,CAAD","sourcesContent":["$(function () {\r\n // 获取url上的参数 的值\r\n function getUrl(name) {\r\n  var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n  var r = window.location.search.substr(1).match(reg);\r\n  if (r != null) return decodeURI(r[2]);\r\n  return null;\r\n }\r\n\r\n\r\n // 1 发送请求需要的参数对象 全局变量 方便修改\r\n let QueryObj = {\r\n  // 查询的关键字 可以为空  根据 小米  华为 。。。。\r\n  query: \"\",\r\n  // 分类页面中的每一个小商品的分类id\r\n  // 获取 url上的参数 cid的值\r\n  cid: getUrl(\"cid\"),\r\n  // 页码\r\n  pagenum: 1,\r\n  // 页容量  一页可以存放几条数据\r\n  pagesize: 10\r\n }\r\n\r\n // 2 总页码 是在发送请求成功了 才能 正确的赋值\r\n let TotalPage = 1;\r\n\r\n init();\r\n\r\n function init() {\r\n  // eventList();\r\n  goodsSearch();\r\n\r\n }\r\n\r\n function eventList() {\r\n  $('.list').on(\"tap\", \"a\", function () {\r\n   let href = this.href;\r\n   location.href = href;\r\n  })\r\n }\r\n\r\n\r\n // 获取商品列表页的数据\r\n function goodsSearch() {\r\n  // console.log(123);\r\n  $.get(\"http://api.pyg.ak48.xyz/api/public/v1/goods/search\", QueryObj, function (result) {\r\n   if (result.meta.status == 200) {\r\n    console.log(result);\r\n    var html = template('mainTpl', {\r\n     arr: result.data.goods\r\n    })\r\n    // console.log(html);\r\n    $('.goods_list').html(html)\r\n\r\n   }\r\n\r\n  })\r\n\r\n\r\n\r\n\r\n }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n})"],"file":"goods_list.js"}